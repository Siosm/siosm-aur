# Maintainer: Alasdair Haswell <ali at arhaswell dot co dot uk>

pkgname=rng-tools
pkgver=3
pkgrel=2
pkgdesc="Feeds random data from another device to the kernel random device"
arch=('i686' 'x86_64')
url="http://sourceforge.net/projects/gkernel/"
license=('GPL')
backup=(etc/conf.d/rngd)
source=(http://downloads.sourceforge.net/sourceforge/gkernel/$pkgname-$pkgver.tar.gz
        rngd
        rngd.conf)
md5sums=('fa305916ec101c85c0065aeceb81a38d'
        'bb348fbe778e5ced48e52989aec5c38a'
        'a87b6a9d24bbc2525d21c855fcc4b02f')

build() {
  cd $srcdir/$pkgname-$pkgver
  ./configure --prefix=/usr
  make
}

package() {
  cd $srcdir/$pkgname-$pkgver
  make DESTDIR=$pkgdir install
  mkdir -p $pkgdir/etc/{rc.d,conf.d}
  cp -v $srcdir/rngd $pkgdir/etc/rc.d/
  cp -v $srcdir/rngd.conf $pkgdir/etc/conf.d/rngd
}
