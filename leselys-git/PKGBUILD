# Maintainer: Timoth√©e Ravier <tim@siosm.fr>

pkgname=leselys-git
pkgver=20130329
pkgrel=1
pkgdesc="Web based elegant RSS reader"
arch=('any')
url="https://github.com/socketubs/leselys"
license=('AGPL3')
depends=('mongodb' 'python2-lxml' 'python2-itsdangerous' 'python2-flask'
         'python2-docopt' 'python2-celery' 'python2-pymongo' 'python-bcrypt'
         'python2-feedparser' 'python2-requests')

_gitroot="git://github.com/socketubs/leselys.git"
_gitname="leselys"

build() {
	msg "Connecting to github.com GIT server...."

	if [ -d "${srcdir}"/${_gitname} ] ; then
		cd ${_gitname} && git pull origin master
		msg "The local files are updated."
	else
		git clone ${_gitroot} --depth 1
	fi

	msg "GIT checkout done or server timeout"
}

package() {
  cd "${srcdir}"/${_gitname}

  python2 setup.py install --root="${pkgdir}" --optimize=1
}

# vim: ts=2 sw=2 et:
